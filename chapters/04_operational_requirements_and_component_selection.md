# Operational Requirements and Component Selection

work together so one of the key decisions involved is signal conditioning to ensure clean and stable signals AED things such as decoupling capacitors as you can see right here this is one example at the input a power input of the esp32 we place those capacitors near the power pins of each integrated circuit and these capacitors help to filter out noise and stabilized power supply additionally there are things such as pull up and pull down is this let me just find an example I'm just going to go to let's go to sensors where I know that

I had to use one of those yep so here's the um sensor for the BME 280 integrated circuit and there's a couple of pullup resistors for the and the SDA lines the I quid C interface so these ensure reliable communication and startup Behavior as well I've also included multiple capacitor sizes of course uh again the Capac sizes here's one example here's another example this is for the SD card module there's a variation of values and we'll find the actual values in data sheets for the various devices but these capacitors both ceramic and

talom are used to handle high frequency noise as well as low frequency fluctuations and the placement of these capacitors is critical especially near components like the esp32 uh an example of this just going to make some room show you the two windows side by side you can see here is the capacitor just clicked on this is C8 which is very very close to the esp32 right on top of it pretty much because that's what the specification and the data sheet requires and the role of this capacitor requires its position to be this close

to the esp32 another thing that is important is finding appropriate components and just to manage my project better I've sourced most of the components through Snap magic so here's one example for the buttons that I use and here's another example for the USBC connector so to save time and maintain accuracy even though some of those components are available from the KY out Library I decided at least for the most important ones not so much for the simple components such as the resistance but for the most important ones I

decided to have a look at snap magic or some other online distributor of Parts because the point here is not simply to design the board but also to ensure that it can be manufactured by a manufacturer such as next PCB so I've done my research mostly in snap magic and you can see here that this particular component that I've chosen is in stock which means that next PCB or your own manufacturer of choice will be able to also find it and include it in the bom you can see that in my bom this is component let's go back to okay so here

is the USB component you can see it's a click on it Kat uh PCB editor focuses to on the component and here is the component this is component J1 I go back to the bill of materials you can see the J1 is right here this is the information that I have included for the manufacturer and I also include information about the sourcing of that material so that they can find it and order it and assemble the board although this is not strictly required I also decided to include reasonably representative 3D models for all of the

components on the board and usually I can get those 3D models from the same place where I Source my parts from again in this case is snap magic but there's many other places as well so for example when I look at the J1 USBC receptable which is this one here you can see if I double click on it I just need to actually get the filter to allow me to select a component you can see in the 3D models I've set the 3D model for this particular component to this so that when I bring up the 3D representation or the model of the PCB that particular

component is model I can see how it's placed on the board so aside from the satisfaction of visualizing and aesthetically pleasing PCB I can also visually confirm that there are no physical fit issues so now let's have a look at some of the other details that I want to show you is just as we getting warmed up up for this project the first thing is in the schematic editor I've got a multi-page design approach because there quite a lot of components that are involved I didn't want to put them in the same page they would end up the

project having a gigantic single page that would be very difficult to follow so I opted for a multi-page approach so I've got the root page here uh which contains power management and battery charging circuits then I've got the second page down which contains the esp32 and uh SD card module USB module here in the flash memory another page is dedicated to the sensors and then finally the user interface where I've got things such as the OLED display connector break out for a few unused gpios just so they not wasted I can connect them to external

devices if I want to and then the reset and the boot buttons that's pretty much what you have in in this last user interface page when it comes to the layout let's have a look at the layout editor here I've opted for a four layer PCB so you can see I've got four copper layers the top copper layer is used for signals so most of the signals and the signal routes are routed on the top side you can see additional signal routes in the bottom and then the first inner copper layer I've used it mostly for ground so I've got a a large ground Zone

you can see it here this border line you can see going around the board represents a ground Zone just going to double click on it so you can take a closer look so this one is ground and then I've got a bunch of other zones in the second inner copper layer which is uh the 3.3 volt layer I've got a actually in here you can see this one is 3.

3 but Ki 9 also has a Zone Manager which allows you to quickly inspect the various zones that have been created and you can see where they are as well in the various layers and you can quickly edit the various characteristics and even give them a name so you can search for them later so I'll show you how to do all that as well last thing to comment before we move on to the next segment is that another thing that I've taken a lot of care to do is to select the appropriate widths for the various tracks and the V and those decisions are governed by the use of that particular

track so for example you can see here this track uh is quite wide because it conveys power essentially it feeds power to the entire board where other traces like this one here much smaller because they convey signals not power so they don't need to be as wide and something similar happens with things such as vs and also the decision to create things such as copper zones like this one here for example in order to enable better power transfer and improve the thermal aspects of the design so that's an overview of the project and some of the

key decisions that went into the design and it's really worth the time spent at the start of the project to plan and choose appropriate and available components reading the data sheets to understand the signal conditioning and placement requirements and other requirements and managing the layout with proper use of layers and copper zones and all this will help to build a high quality PCB that will be economical to manufacture and of course fit for purpose designing an iot board involves balancing technical capabilities with

real world constraint so in this segment of the video I'll talk a little bit about the operational requirements that guided the development of this custom esp32 board these are the things that I want to achieve by designing the board and influence me in the various decisions that I had to make so after that I'll show you some of the sources that are used for things such as data sheets the actual physical components that will end up on the manufactured board and sources for the symbols Footprints and 3D models because I like

to do all that as much as possible for starting the actual design work in kiat there are two plus one top level requirements at gued my decision- making process the first one is that I wanted to create a board that would give me the opportunity to record this video the topic of the video as you know is to demonstrate the use of K at 9 in the design of a medium complexity PCB with that in mind the second top level requirement was that this board should contain a modern microcontroller with wireless capabilities and lots of

processing power that is connected to a reasonably complete array of components that would require the employment of at least four layers on this particular PCB and the use of typical design techniques for epcp of this complexity and capabilities and the plus one top level requirement following the previous two is that at the end of the process I'd be able to manufacture this board in a modern manufacturing facility and in my case that's next PCP who is also sponsoring the video and you can see that the PCB right now is being